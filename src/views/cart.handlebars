<body data-cart="{{cartId}}">
<h1>Carrito de</h1>

{{#if cart.products.length}}
<table>
    <thead>
    <tr>
        <th>Producto</th>
        <th>Precio</th>
        <th>Cantidad</th>
        <th>Subtotal</th>
        <th>Acciones</th>
    </tr>
    </thead>
    <tbody>
    {{#each cart.products}}
    <tr>
        <!-- Verificación condicional de si existe el producto y su título -->
        <td>{{#if this.product}}{{this.product.title}}{{else}}Producto no disponible{{/if}}</td>
        <!-- Verificación condicional de si existe el precio del producto -->
        <td>${{#if this.product.price}}{{this.product.price}}{{else}}0{{/if}}</td>
        <td>{{this.quantity}}</td>
        <!-- Verificación condicional para el cálculo del subtotal -->
        <td>${{#if this.product.price}}{{multiply this.quantity this.product.price}}{{else}}0{{/if}}</td>
        <td>
        <button class="btn-decrease" data-id="{{this.product._id}}">-</button>
        <button class="btn-increase" data-id="{{this.product._id}}">+</button>
        <button class="btn-delete" data-id="{{this.product._id}}">Eliminar</button>
        </td>
    </tr>
    {{/each}}
    </tbody>
</table>
<p>Total: ${{calculateTotal cart.products}}</p>
<button id="btn-empty-cart">Vaciar carrito</button>
<button id="btn-checkout">Finalizar compra</button>
{{else}}
<p>Tu carrito está vacío</p>
{{/if}}
</body>

<script src="/js/index.js"></script>