<div class="container">
    <h1>Carrito de compras</h1>

    {{#if cart.products.length}}
    <table>
        <thead>
            <tr>
                <th>Producto</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Subtotal</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {{#each cart.products}}
            <tr>
                <td>{{#if this.product}}{{this.product.name}}{{else}}Producto no disponible{{/if}}</td>
                <td class="price">${{this.product.price}}</td>
                <td class="quantity">{{this.quantity}}</td>
                <td>${{multiply this.product.price this.quantity}}</td>
                <td>
                    <button class="btn-decrease" data-id="{{this.product._id}}">-</button>
                    <button class="btn-increase" data-id="{{this.product._id}}">+</button>
                    <button class="btn-delete" data-id="{{this.product._id}}">Eliminar</button>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    <p>
        <strong>
            Total: $<span id="cart-total">{{calculateTotal cart.products}}</span>
        </strong>
    </p>

    <div class="actions">
        <button id="btn-empty-cart">Vaciar carrito</button>
        <button id="btn-checkout">Finalizar compra</button>
    </div>
    {{else}}
    <p>Tu carrito está vacío</p>
    {{/if}}

    <div class="actions">
        <a href="/home" id="btn-back">Volver a la tienda</a>
    </div>
</div>